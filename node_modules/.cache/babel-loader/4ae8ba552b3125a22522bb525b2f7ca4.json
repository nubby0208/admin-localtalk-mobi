{"ast":null,"code":"(function (window, factory) {\n  var lazySizes = factory(window, window.document, Date);\n  window.lazySizes = lazySizes;\n\n  if (typeof module == 'object' && module.exports) {\n    module.exports = lazySizes;\n  }\n})(typeof window != 'undefined' ? window : {},\n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) {\n  // Pass in the window Date function also for SSR because the Date class can be lost\n  'use strict';\n  /*jshint eqnull:true */\n\n  var lazysizes,\n  /**\n   * @type { LazySizesConfigPartial }\n   */\n  lazySizesCfg;\n\n  (function () {\n    var prop;\n    var lazySizesDefaults = {\n      lazyClass: 'lazyload',\n      loadedClass: 'lazyloaded',\n      loadingClass: 'lazyloading',\n      preloadClass: 'lazypreload',\n      errorClass: 'lazyerror',\n      //strictClass: 'lazystrict',\n      autosizesClass: 'lazyautosizes',\n      fastLoadedClass: 'ls-is-cached',\n      iframeLoadMode: 0,\n      srcAttr: 'data-src',\n      srcsetAttr: 'data-srcset',\n      sizesAttr: 'data-sizes',\n      //preloadAfterLoad: false,\n      minSize: 40,\n      customMedia: {},\n      init: true,\n      expFactor: 1.5,\n      hFac: 0.8,\n      loadMode: 2,\n      loadHidden: true,\n      ricTimeout: 0,\n      throttleDelay: 125\n    };\n    lazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n    for (prop in lazySizesDefaults) {\n      if (!(prop in lazySizesCfg)) {\n        lazySizesCfg[prop] = lazySizesDefaults[prop];\n      }\n    }\n  })();\n\n  if (!document || !document.getElementsByClassName) {\n    return {\n      init: function init() {},\n\n      /**\n       * @type { LazySizesConfigPartial }\n       */\n      cfg: lazySizesCfg,\n\n      /**\n       * @type { true }\n       */\n      noSupport: true\n    };\n  }\n\n  var docElem = document.documentElement;\n  var supportPicture = window.HTMLPictureElement;\n  var _addEventListener = 'addEventListener';\n  var _getAttribute = 'getAttribute';\n  /**\n   * Update to bind to window because 'this' becomes null during SSR\n   * builds.\n   */\n\n  var addEventListener = window[_addEventListener].bind(window);\n\n  var setTimeout = window.setTimeout;\n  var requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n  var requestIdleCallback = window.requestIdleCallback;\n  var regPicture = /^picture$/i;\n  var loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n  var regClassCache = {};\n  var forEach = Array.prototype.forEach;\n  /**\n   * @param ele {Element}\n   * @param cls {string}\n   */\n\n  var hasClass = function hasClass(ele, cls) {\n    if (!regClassCache[cls]) {\n      regClassCache[cls] = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n    }\n\n    return regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n  };\n  /**\n   * @param ele {Element}\n   * @param cls {string}\n   */\n\n\n  var addClass = function addClass(ele, cls) {\n    if (!hasClass(ele, cls)) {\n      ele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n    }\n  };\n  /**\n   * @param ele {Element}\n   * @param cls {string}\n   */\n\n\n  var removeClass = function removeClass(ele, cls) {\n    var reg;\n\n    if (reg = hasClass(ele, cls)) {\n      ele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n    }\n  };\n\n  var addRemoveLoadEvents = function addRemoveLoadEvents(dom, fn, add) {\n    var action = add ? _addEventListener : 'removeEventListener';\n\n    if (add) {\n      addRemoveLoadEvents(dom, fn);\n    }\n\n    loadEvents.forEach(function (evt) {\n      dom[action](evt, fn);\n    });\n  };\n  /**\n   * @param elem { Element }\n   * @param name { string }\n   * @param detail { any }\n   * @param noBubbles { boolean }\n   * @param noCancelable { boolean }\n   * @returns { CustomEvent }\n   */\n\n\n  var triggerEvent = function triggerEvent(elem, name, detail, noBubbles, noCancelable) {\n    var event = document.createEvent('Event');\n\n    if (!detail) {\n      detail = {};\n    }\n\n    detail.instance = lazysizes;\n    event.initEvent(name, !noBubbles, !noCancelable);\n    event.detail = detail;\n    elem.dispatchEvent(event);\n    return event;\n  };\n\n  var updatePolyfill = function updatePolyfill(el, full) {\n    var polyfill;\n\n    if (!supportPicture && (polyfill = window.picturefill || lazySizesCfg.pf)) {\n      if (full && full.src && !el[_getAttribute]('srcset')) {\n        el.setAttribute('srcset', full.src);\n      }\n\n      polyfill({\n        reevaluate: true,\n        elements: [el]\n      });\n    } else if (full && full.src) {\n      el.src = full.src;\n    }\n  };\n\n  var getCSS = function getCSS(elem, style) {\n    return (getComputedStyle(elem, null) || {})[style];\n  };\n  /**\n   *\n   * @param elem { Element }\n   * @param parent { Element }\n   * @param [width] {number}\n   * @returns {number}\n   */\n\n\n  var getWidth = function getWidth(elem, parent, width) {\n    width = width || elem.offsetWidth;\n\n    while (width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth) {\n      width = parent.offsetWidth;\n      parent = parent.parentNode;\n    }\n\n    return width;\n  };\n\n  var rAF = function () {\n    var running, waiting;\n    var firstFns = [];\n    var secondFns = [];\n    var fns = firstFns;\n\n    var run = function run() {\n      var runFns = fns;\n      fns = firstFns.length ? secondFns : firstFns;\n      running = true;\n      waiting = false;\n\n      while (runFns.length) {\n        runFns.shift()();\n      }\n\n      running = false;\n    };\n\n    var rafBatch = function rafBatch(fn, queue) {\n      if (running && !queue) {\n        fn.apply(this, arguments);\n      } else {\n        fns.push(fn);\n\n        if (!waiting) {\n          waiting = true;\n          (document.hidden ? setTimeout : requestAnimationFrame)(run);\n        }\n      }\n    };\n\n    rafBatch._lsFlush = run;\n    return rafBatch;\n  }();\n\n  var rAFIt = function rAFIt(fn, simple) {\n    return simple ? function () {\n      rAF(fn);\n    } : function () {\n      var that = this;\n      var args = arguments;\n      rAF(function () {\n        fn.apply(that, args);\n      });\n    };\n  };\n\n  var throttle = function throttle(fn) {\n    var running;\n    var lastTime = 0;\n    var gDelay = lazySizesCfg.throttleDelay;\n    var rICTimeout = lazySizesCfg.ricTimeout;\n\n    var run = function run() {\n      running = false;\n      lastTime = Date.now();\n      fn();\n    };\n\n    var idleCallback = requestIdleCallback && rICTimeout > 49 ? function () {\n      requestIdleCallback(run, {\n        timeout: rICTimeout\n      });\n\n      if (rICTimeout !== lazySizesCfg.ricTimeout) {\n        rICTimeout = lazySizesCfg.ricTimeout;\n      }\n    } : rAFIt(function () {\n      setTimeout(run);\n    }, true);\n    return function (isPriority) {\n      var delay;\n\n      if (isPriority = isPriority === true) {\n        rICTimeout = 33;\n      }\n\n      if (running) {\n        return;\n      }\n\n      running = true;\n      delay = gDelay - (Date.now() - lastTime);\n\n      if (delay < 0) {\n        delay = 0;\n      }\n\n      if (isPriority || delay < 9) {\n        idleCallback();\n      } else {\n        setTimeout(idleCallback, delay);\n      }\n    };\n  }; //based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\n\n  var debounce = function debounce(func) {\n    var timeout, timestamp;\n    var wait = 99;\n\n    var run = function run() {\n      timeout = null;\n      func();\n    };\n\n    var later = function later() {\n      var last = Date.now() - timestamp;\n\n      if (last < wait) {\n        setTimeout(later, wait - last);\n      } else {\n        (requestIdleCallback || run)(run);\n      }\n    };\n\n    return function () {\n      timestamp = Date.now();\n\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n    };\n  };\n\n  var loader = function () {\n    var preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n    var eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n    var regImg = /^img$/i;\n    var regIframe = /^iframe$/i;\n    var supportScroll = 'onscroll' in window && !/(gle|ing)bot/.test(navigator.userAgent);\n    var shrinkExpand = 0;\n    var currentExpand = 0;\n    var isLoading = 0;\n    var lowRuns = -1;\n\n    var resetPreloading = function resetPreloading(e) {\n      isLoading--;\n\n      if (!e || isLoading < 0 || !e.target) {\n        isLoading = 0;\n      }\n    };\n\n    var isVisible = function isVisible(elem) {\n      if (isBodyHidden == null) {\n        isBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n      }\n\n      return isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n    };\n\n    var isNestedVisible = function isNestedVisible(elem, elemExpand) {\n      var outerRect;\n      var parent = elem;\n      var visible = isVisible(elem);\n      eLtop -= elemExpand;\n      eLbottom += elemExpand;\n      eLleft -= elemExpand;\n      eLright += elemExpand;\n\n      while (visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem) {\n        visible = (getCSS(parent, 'opacity') || 1) > 0;\n\n        if (visible && getCSS(parent, 'overflow') != 'visible') {\n          outerRect = parent.getBoundingClientRect();\n          visible = eLright > outerRect.left && eLleft < outerRect.right && eLbottom > outerRect.top - 1 && eLtop < outerRect.bottom + 1;\n        }\n      }\n\n      return visible;\n    };\n\n    var checkElements = function checkElements() {\n      var eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal, defaultExpand, preloadExpand, hFac;\n      var lazyloadElems = lazysizes.elements;\n\n      if ((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)) {\n        i = 0;\n        lowRuns++;\n\n        for (; i < eLlen; i++) {\n          if (!lazyloadElems[i] || lazyloadElems[i]._lazyRace) {\n            continue;\n          }\n\n          if (!supportScroll || lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i])) {\n            unveilElement(lazyloadElems[i]);\n            continue;\n          }\n\n          if (!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)) {\n            elemExpand = currentExpand;\n          }\n\n          if (!defaultExpand) {\n            defaultExpand = !lazySizesCfg.expand || lazySizesCfg.expand < 1 ? docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 : lazySizesCfg.expand;\n            lazysizes._defEx = defaultExpand;\n            preloadExpand = defaultExpand * lazySizesCfg.expFactor;\n            hFac = lazySizesCfg.hFac;\n            isBodyHidden = null;\n\n            if (currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden) {\n              currentExpand = preloadExpand;\n              lowRuns = 0;\n            } else if (loadMode > 1 && lowRuns > 1 && isLoading < 6) {\n              currentExpand = defaultExpand;\n            } else {\n              currentExpand = shrinkExpand;\n            }\n          }\n\n          if (beforeExpandVal !== elemExpand) {\n            eLvW = innerWidth + elemExpand * hFac;\n            elvH = innerHeight + elemExpand;\n            elemNegativeExpand = elemExpand * -1;\n            beforeExpandVal = elemExpand;\n          }\n\n          rect = lazyloadElems[i].getBoundingClientRect();\n\n          if ((eLbottom = rect.bottom) >= elemNegativeExpand && (eLtop = rect.top) <= elvH && (eLright = rect.right) >= elemNegativeExpand * hFac && (eLleft = rect.left) <= eLvW && (eLbottom || eLright || eLleft || eLtop) && (lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) && (isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4) || isNestedVisible(lazyloadElems[i], elemExpand))) {\n            unveilElement(lazyloadElems[i]);\n            loadedSomething = true;\n\n            if (isLoading > 9) {\n              break;\n            }\n          } else if (!loadedSomething && isCompleted && !autoLoadElem && isLoading < 4 && lowRuns < 4 && loadMode > 2 && (preloadElems[0] || lazySizesCfg.preloadAfterLoad) && (preloadElems[0] || !elemExpandVal && (eLbottom || eLright || eLleft || eLtop || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto'))) {\n            autoLoadElem = preloadElems[0] || lazyloadElems[i];\n          }\n        }\n\n        if (autoLoadElem && !loadedSomething) {\n          unveilElement(autoLoadElem);\n        }\n      }\n    };\n\n    var throttledCheckElements = throttle(checkElements);\n\n    var switchLoadingClass = function switchLoadingClass(e) {\n      var elem = e.target;\n\n      if (elem._lazyCache) {\n        delete elem._lazyCache;\n        return;\n      }\n\n      resetPreloading(e);\n      addClass(elem, lazySizesCfg.loadedClass);\n      removeClass(elem, lazySizesCfg.loadingClass);\n      addRemoveLoadEvents(elem, rafSwitchLoadingClass);\n      triggerEvent(elem, 'lazyloaded');\n    };\n\n    var rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\n    var rafSwitchLoadingClass = function rafSwitchLoadingClass(e) {\n      rafedSwitchLoadingClass({\n        target: e.target\n      });\n    };\n\n    var changeIframeSrc = function changeIframeSrc(elem, src) {\n      var loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode; // loadMode can be also a string!\n\n      if (loadMode == 0) {\n        elem.contentWindow.location.replace(src);\n      } else if (loadMode == 1) {\n        elem.src = src;\n      }\n    };\n\n    var handleSources = function handleSources(source) {\n      var customMedia;\n\n      var sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n      if (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) {\n        source.setAttribute('media', customMedia);\n      }\n\n      if (sourceSrcset) {\n        source.setAttribute('srcset', sourceSrcset);\n      }\n    };\n\n    var lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg) {\n      var src, srcset, parent, isPicture, event, firesLoad;\n\n      if (!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented) {\n        if (sizes) {\n          if (isAuto) {\n            addClass(elem, lazySizesCfg.autosizesClass);\n          } else {\n            elem.setAttribute('sizes', sizes);\n          }\n        }\n\n        srcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n        src = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n        if (isImg) {\n          parent = elem.parentNode;\n          isPicture = parent && regPicture.test(parent.nodeName || '');\n        }\n\n        firesLoad = detail.firesLoad || 'src' in elem && (srcset || src || isPicture);\n        event = {\n          target: elem\n        };\n        addClass(elem, lazySizesCfg.loadingClass);\n\n        if (firesLoad) {\n          clearTimeout(resetPreloadingTimer);\n          resetPreloadingTimer = setTimeout(resetPreloading, 2500);\n          addRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n        }\n\n        if (isPicture) {\n          forEach.call(parent.getElementsByTagName('source'), handleSources);\n        }\n\n        if (srcset) {\n          elem.setAttribute('srcset', srcset);\n        } else if (src && !isPicture) {\n          if (regIframe.test(elem.nodeName)) {\n            changeIframeSrc(elem, src);\n          } else {\n            elem.src = src;\n          }\n        }\n\n        if (isImg && (srcset || isPicture)) {\n          updatePolyfill(elem, {\n            src: src\n          });\n        }\n      }\n\n      if (elem._lazyRace) {\n        delete elem._lazyRace;\n      }\n\n      removeClass(elem, lazySizesCfg.lazyClass);\n      rAF(function () {\n        // Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n        var isLoaded = elem.complete && elem.naturalWidth > 1;\n\n        if (!firesLoad || isLoaded) {\n          if (isLoaded) {\n            addClass(elem, lazySizesCfg.fastLoadedClass);\n          }\n\n          switchLoadingClass(event);\n          elem._lazyCache = true;\n          setTimeout(function () {\n            if ('_lazyCache' in elem) {\n              delete elem._lazyCache;\n            }\n          }, 9);\n        }\n\n        if (elem.loading == 'lazy') {\n          isLoading--;\n        }\n      }, true);\n    });\n    /**\n     *\n     * @param elem { Element }\n     */\n\n    var unveilElement = function unveilElement(elem) {\n      if (elem._lazyRace) {\n        return;\n      }\n\n      var detail;\n      var isImg = regImg.test(elem.nodeName); //allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\n      var sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\n      var isAuto = sizes == 'auto';\n\n      if ((isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)) {\n        return;\n      }\n\n      detail = triggerEvent(elem, 'lazyunveilread').detail;\n\n      if (isAuto) {\n        autoSizer.updateElem(elem, true, elem.offsetWidth);\n      }\n\n      elem._lazyRace = true;\n      isLoading++;\n      lazyUnveil(elem, detail, isAuto, sizes, isImg);\n    };\n\n    var afterScroll = debounce(function () {\n      lazySizesCfg.loadMode = 3;\n      throttledCheckElements();\n    });\n\n    var altLoadmodeScrollListner = function altLoadmodeScrollListner() {\n      if (lazySizesCfg.loadMode == 3) {\n        lazySizesCfg.loadMode = 2;\n      }\n\n      afterScroll();\n    };\n\n    var onload = function onload() {\n      if (isCompleted) {\n        return;\n      }\n\n      if (Date.now() - started < 999) {\n        setTimeout(onload, 999);\n        return;\n      }\n\n      isCompleted = true;\n      lazySizesCfg.loadMode = 3;\n      throttledCheckElements();\n      addEventListener('scroll', altLoadmodeScrollListner, true);\n    };\n\n    return {\n      _: function _() {\n        started = Date.now();\n        lazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n        preloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n        addEventListener('scroll', throttledCheckElements, true);\n        addEventListener('resize', throttledCheckElements, true);\n        addEventListener('pageshow', function (e) {\n          if (e.persisted) {\n            var loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n            if (loadingElements.length && loadingElements.forEach) {\n              requestAnimationFrame(function () {\n                loadingElements.forEach(function (img) {\n                  if (img.complete) {\n                    unveilElement(img);\n                  }\n                });\n              });\n            }\n          }\n        });\n\n        if (window.MutationObserver) {\n          new MutationObserver(throttledCheckElements).observe(docElem, {\n            childList: true,\n            subtree: true,\n            attributes: true\n          });\n        } else {\n          docElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\n          docElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\n          setInterval(throttledCheckElements, 999);\n        }\n\n        addEventListener('hashchange', throttledCheckElements, true); //, 'fullscreenchange'\n\n        ['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function (name) {\n          document[_addEventListener](name, throttledCheckElements, true);\n        });\n\n        if (/d$|^c/.test(document.readyState)) {\n          onload();\n        } else {\n          addEventListener('load', onload);\n\n          document[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\n          setTimeout(onload, 20000);\n        }\n\n        if (lazysizes.elements.length) {\n          checkElements();\n\n          rAF._lsFlush();\n        } else {\n          throttledCheckElements();\n        }\n      },\n      checkElems: throttledCheckElements,\n      unveil: unveilElement,\n      _aLSL: altLoadmodeScrollListner\n    };\n  }();\n\n  var autoSizer = function () {\n    var autosizesElems;\n    var sizeElement = rAFIt(function (elem, parent, event, width) {\n      var sources, i, len;\n      elem._lazysizesWidth = width;\n      width += 'px';\n      elem.setAttribute('sizes', width);\n\n      if (regPicture.test(parent.nodeName || '')) {\n        sources = parent.getElementsByTagName('source');\n\n        for (i = 0, len = sources.length; i < len; i++) {\n          sources[i].setAttribute('sizes', width);\n        }\n      }\n\n      if (!event.detail.dataAttr) {\n        updatePolyfill(elem, event.detail);\n      }\n    });\n    /**\n     *\n     * @param elem {Element}\n     * @param dataAttr\n     * @param [width] { number }\n     */\n\n    var getSizeElement = function getSizeElement(elem, dataAttr, width) {\n      var event;\n      var parent = elem.parentNode;\n\n      if (parent) {\n        width = getWidth(elem, parent, width);\n        event = triggerEvent(elem, 'lazybeforesizes', {\n          width: width,\n          dataAttr: !!dataAttr\n        });\n\n        if (!event.defaultPrevented) {\n          width = event.detail.width;\n\n          if (width && width !== elem._lazysizesWidth) {\n            sizeElement(elem, parent, event, width);\n          }\n        }\n      }\n    };\n\n    var updateElementsSizes = function updateElementsSizes() {\n      var i;\n      var len = autosizesElems.length;\n\n      if (len) {\n        i = 0;\n\n        for (; i < len; i++) {\n          getSizeElement(autosizesElems[i]);\n        }\n      }\n    };\n\n    var debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n    return {\n      _: function _() {\n        autosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n        addEventListener('resize', debouncedUpdateElementsSizes);\n      },\n      checkElems: debouncedUpdateElementsSizes,\n      updateElem: getSizeElement\n    };\n  }();\n\n  var init = function init() {\n    if (!init.i && document.getElementsByClassName) {\n      init.i = true;\n\n      autoSizer._();\n\n      loader._();\n    }\n  };\n\n  setTimeout(function () {\n    if (lazySizesCfg.init) {\n      init();\n    }\n  });\n  lazysizes = {\n    /**\n     * @type { LazySizesConfigPartial }\n     */\n    cfg: lazySizesCfg,\n    autoSizer: autoSizer,\n    loader: loader,\n    init: init,\n    uP: updatePolyfill,\n    aC: addClass,\n    rC: removeClass,\n    hC: hasClass,\n    fire: triggerEvent,\n    gW: getWidth,\n    rAF: rAF\n  };\n  return lazysizes;\n});","map":{"version":3,"sources":["E:/projects/localtalk.mobi/mobilechat-adminpanel/node_modules/lazysizes/lazysizes.js"],"names":["window","factory","lazySizes","document","Date","module","exports","l","lazysizes","lazySizesCfg","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","fastLoadedClass","iframeLoadMode","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","documentElement","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","addEventListener","bind","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","instance","initEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","src","reevaluate","elements","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","_lazysizesWidth","parentNode","rAF","running","waiting","firstFns","secondFns","fns","run","runFns","length","shift","rafBatch","queue","apply","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","rICTimeout","now","idleCallback","timeout","isPriority","delay","debounce","func","timestamp","wait","later","last","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","isBodyHidden","regImg","regIframe","supportScroll","navigator","userAgent","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","e","target","isVisible","body","isNestedVisible","elemExpand","outerRect","visible","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","i","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","innerWidth","innerHeight","preloadAfterLoad","throttledCheckElements","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","getAttribute","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","call","getElementsByTagName","isLoaded","complete","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","onload","_","persisted","loadingElements","querySelectorAll","img","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","_aLSL","autosizesElems","sizeElement","sources","len","dataAttr","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","uP","aC","rC","hC","fire","gW"],"mappings":"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","sourcesContent":["(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n"]},"metadata":{},"sourceType":"script"}